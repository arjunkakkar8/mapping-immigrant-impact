<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Mapping Immigrant Economic Impact</title>
  </head>
  <body>
    <div id="basemap">
      <svg width="100%" height="300%">
        <svg
          id="map-container"
          viewBox="0, 0, 2000, 4500"
          preserveAspectRatio="xMidYMid meet"
        >
          <g id="map-group"></g>
          <g id="dot-container"></g>
          <g id="color-guide-group" style="opacity:0;">
            <svg
              id="color-scale"
              x="25"
              y="250"
              width="200"
              height="1000"
              viewBox="0,0,200,1000"
              preserveAspectRatio="xMidYMid meet"
            >
              <defs>
                <linearGradient id="gradient" x1="0" x2="0" y1="0" y2="1">
                  <stop offset="5%" stop-color="rgb(0, 117, 137)" />
                  <stop offset="50%" stop-color="rgb(255, 255, 255)" />
                  <stop offset="95%" stop-color="rgb(255, 199, 14)" />
                </linearGradient>
              </defs>
            </svg>
          </g>
        </svg>
      </svg>
    </div>
    <div id="scroller">
      <div class="animator step" style="padding-top: 30vh;"></div>
      <div id="cover" class="step">
        <div class="text title sticky">
          Immigrant_impact:
        </div>
        <div class="text subtitle sticky">
          Mapping the local economic contributions of immigrants in the US
        </div>
        <div style="padding-top: 150vh;"></div>
        <div id="navguide" class="sticky">
          <div id="scroll-option" class="text">
            <p>Scroll for story</p>
            <div id="scroll-icon">
              <svg viewBox="0,0,100,80" preserveAspectRatio="xMidYMin meet">
                <path d="M0 20 L50 60 L100 20" id="elem1" />
                <path d="M0 40 L50 80 L100 40" id="elem2" />
              </svg>
            </div>
          </div>
          <div id="click-option" class="text">
            <p>Click for map</p>
            <div id="click-icon">
              <svg viewBox="0,0,100,100" preserveAspectRatio="xMidYMin meet">
                <circle cx="50" cy="45" r="39" id="elem1" />
                <circle cx="50" cy="45" r="20" id="elem2" />
              </svg>
            </div>
          </div>
          <div></div>
          <div id="vline"></div>
        </div>
      </div>
      <div id="offsetswitcher" class="step" , style="height: 1px;"></div>
      <div id="intro" class="text" style="padding: 100vh 0;">
        <div class="textbox text step">
          We have constructed a metric that measures the impact immigrants have
          on their local economies. It is composed of three key indicator values
          for immigrants as a proportion of values for the local community
          (PUMA) they reside in:
          <span style="font-weight: bold;"
            >tax contributions, entrepreneurship</span
          >
          and
          <span style="font-weight: bold;">participation in key industries</span
          >. Let's take a look at this metric for 2012. <br /><br />
          On this map,
          <span style="font-weight: bold;color:rgb(0, 117, 137)">blue</span>
          indicates PUMAs where immigrants significantly over-contributed to
          their local economy,
          <span style="font-weight: bold;color:rgb(163, 163, 163)">white</span>
          indicates PUMAs where immigrants contributed at par with their share
          of the population and
          <span style="font-weight: bold;color:rgb(201, 162, 37)">yellow</span>
          indicates PUMAs where immigrants under-contributed.
        </div>
        <div class="spacer"></div>
        <div class="textbox text step">
          We visualize the PUMAs in which immigrant contributions are
          significantly different from the expected value in the dot plot below.
          The dots are sized according to the number of immigrants in the PUMA
          and are colored accoring to the impact score of immigrants in those
          communities.
        </div>
        <div class="spacer"></div>
        <div class="textbox text step">
          To better understand regional trends in immigrant contributions, lets
          smooth out this map and take a look at regional hotspots.
        </div>
        <div class="spacer"></div>
        <div class="step">
          <div class="textbox text">
            Note that the immigrant populations living in each state vary quite
            significantly. Here's a quick flash of the map with states sized by
            their immigrant populations. For the sake of clarity we'll continue
            with the regular map but keep in mind the size of immigrant
            populations while considering their impact.
          </div>
          <div class="spacer"></div>
        </div>
      </div>
      <div id="timeline" class="step">
        <div class="textbox text">
          Now lets pop up a timeline and take a look at whether these regional
          hotspots evolve over time.
        </div>
        <div class="spacer" style="padding: 100vh 0;"></div>
      </div>
      <div class="spacer"></div>
      <div id="dotplot">
        <div class="text textbox step">
          Clearly, there are some regional hotspots that remain constant over
          time but there are many others that change dramatically over time.
          Let's take a look at these regions in more detail.
        </div>
      </div>
      <div class="spacer"></div>
    </div>
    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script src="https://unpkg.com/topojson@3"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script type="text/javascript" src="js/stickyfill.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
  </body>
</html>
